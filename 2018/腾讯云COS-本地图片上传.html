<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <title>腾讯云COS图床制作-幻凡ss
  </title>
  <meta name="description" content="专注Java • 分享生活 • 记录人生">
  
  <meta name="keywords" content="java,IT,幻凡ss,幻凡">
  
  <meta name="HandheldFriendly" content="True">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <meta name="google-site-verification" content="q4xnHYM3-sVfNnyEwMGqknU2CTdojzJvQ5nGfN3EJv8">

  <link rel="shortcut icon" href="/img/favicon.ico">
  <link rel="icon" href="/img/favicon.ico">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="//cdn.bootcss.com/Swiper/4.4.6/css/swiper.min.css">
 <link rel="stylesheet" href="/style.css">
 

</head>
</html>
<body class="l_body">

 <div classdivclass="d_out" onmouseover="this.className='d_over'" onmouseout="this.className='d_out'">
    <a title="飞回顶部" href="#0" class="cd-top">Top</a>
 </div>

    <header class="l_header" id="no-header">
	<div class="wrapper">
		<div class="nav-main container container--flex">
			<a class="logo flat-box" href="/">
				<img class="xwbk-logo" src="/img/blog_nav_logo.png">
			</a>
				<div class="menu">
					<ul class="h-list">
                        
    						

    							<!-- 导航栏图标和菜单 -->
    							<li>
    								<a class="nav-home flat-box" href="/">
    									首页
    								</a>
    							</li>
    							<!-- 菜单hot图标 -->
    							<!-- <img src="">g class="hot_gif" src="/img/hot.gif"> -->
    						

    							<!-- 导航栏图标和菜单 -->
    							<li>
    								<a class="nav-archives flat-box" href="/archives/index.html">
    									时间轴
    								</a>
    							</li>
    							<!-- 菜单hot图标 -->
    							<!-- <img src="">g class="hot_gif" src="/img/hot.gif"> -->
    						

    							<!-- 导航栏图标和菜单 -->
    							<li>
    								<a class="nav-about flat-box" href="/about/index.html">
    									关于
    								</a>
    							</li>
    							<!-- 菜单hot图标 -->
    							<!-- <img src="">g class="hot_gif" src="/img/hot.gif"> -->
    						

    							<!-- 导航栏图标和菜单 -->
    							<li>
    								<a class="nav-comment flat-box" href="/comment/index.html">
    									留言
    								</a>
    							</li>
    							<!-- 菜单hot图标 -->
    							<!-- <img src="">g class="hot_gif" src="/img/hot.gif"> -->
    						
        			 

        			<!-- 二级菜单 -->
<!-- 				<div id="top">
   				<div id="top_right">          
    			<div class="top_nav">
     			本站主题
			     <ul class="nav_1">         
			      <a style="font-size:16px" href="https://www.showdoc.cc/xwmp"><li>主题简介</li></a>
			      <a style="font-size:16px" href="http://qm.qq.com/cgi-bin/qm/qr?k=Zx1XyD_1jAXIoVyiYRmgimXrovdWnYkP"><li>QQ群</li></a>
			     </ul>
			    </div> -->

					</ul>
				</div>				
			
			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="搜索内容">
						<span class="icon"><i class="fa fa-search fa-fw"></i></span>
					</form>
				</div>
			
			<ul class="switcher h-list">
				
					<li class="s-search"><a class="fa fa-search fa-fw" href="javascript:void(0)"></a></li>
				&nbsp;&nbsp;
				<li class="s-menu"><a class="fa fa-bars fa-fw" href="javascript:void(0)"></a></li>&nbsp;&nbsp;
			</ul>
		</div>

		<div class="nav-sub container container--flex">
			<a class="logo" href="javascript:void(0)">
			</a>
		</div>
	</div>	

</header>
	<aside class="menu-phone">
		<nav>
      <ul>
          
              
                  <li>
                      <a class="nav-home flat-box nav flat-box" href="/">
                      首页
                      </a>
                  </li>
                  <!-- <img class="hot_gif_phone" src="/img/hot.gif"> -->
              
                  <li>
                      <a class="nav-archives flat-box nav flat-box" href="/archives/index.html">
                      时间轴
                      </a>
                  </li>
                  <!-- <img class="hot_gif_phone" src="/img/hot.gif"> -->
              
                  <li>
                      <a class="nav-about flat-box nav flat-box" href="/about/index.html">
                      关于
                      </a>
                  </li>
                  <!-- <img class="hot_gif_phone" src="/img/hot.gif"> -->
              
                  <li>
                      <a class="nav-comment flat-box nav flat-box" href="/comment/index.html">
                      留言
                      </a>
                  </li>
                  <!-- <img class="hot_gif_phone" src="/img/hot.gif"> -->
              
       
       <li><a class="nav-materialplus flat-box nav flat-box" href="https://www.showdoc.cc/xwmp">本站主题</a></li>
      </ul>
		</nav>
	</aside>

    <div>
    <div class="container clearfix">
        <div class="l_main">
      <article id="post-腾讯云COS-本地图片上传" class="post white-box article-type-post" itemscope="" itemprop="blogPost">
    <section class="meta">

        <h1 class="title">
            <center>腾讯云COS图床制作</center>
        </h1>


 <center>
    <time>
    <i class="fas fa-calendar-alt" aria-hidden="true"></i>&nbsp;
    <span>发表于 </span>2018-08-13-星期一&nbsp;&nbsp;|&nbsp;&nbsp;
    <i class="fas fa-eye fa-fw" aria-hidden="true"></i>&nbsp;
    阅读 &nbsp;(
    <span id="busuanzi_value_page_pv">计算中...</span>&nbsp;)
    
    </time>
</center>



    <hr class="zdyhr">
       
    </section>

    <section class="article typo">

        <div class="article-entry" itemprop="articleBody">
            <blockquote>
<p>在图片上右键上传，自动生成<code>图片URL</code>到剪切板中，任意地方<code>Ctrl+v</code>均可粘贴</p>
<p>在文件上右键上传，自动生成<code>图片URL</code>到剪切板中，任意地方<code>Ctrl+v</code>均可粘贴</p>
</blockquote>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="COS"><a href="#COS" class="headerlink" title="COS"></a>COS</h3><blockquote>
<p>对象存储（Cloud Object Storage，COS）</p>
</blockquote>
<p>我们需要一个空间，用于存放图片或者文件，这里推荐使用腾讯云或者七牛云</p>
<p>他们提供的免费额度足够普通用户使用了</p>
<p>腾讯云的免费额度</p>
<table>
<thead>
<tr>
<th>资源类型</th>
<th>资源子类型</th>
<th>每月免费额度</th>
</tr>
</thead>
<tbody>
<tr>
<td>存储空间</td>
<td>存储空间</td>
<td>50 GB</td>
</tr>
<tr>
<td>流量</td>
<td>外网下行流量</td>
<td>10 GB</td>
</tr>
<tr>
<td>流量</td>
<td>腾讯云 CDN 回源流量</td>
<td>10 GB</td>
</tr>
<tr>
<td>请求</td>
<td>读请求</td>
<td>100 万次</td>
</tr>
<tr>
<td>请求</td>
<td>写请求</td>
<td>100 万次</td>
</tr>
</tbody>
</table>
<h3 id="本地环境"><a href="#本地环境" class="headerlink" title="本地环境"></a>本地环境</h3><p>这里以腾讯云接口为例，本地需要<code>nodejs</code>运行环境</p>
<ul>
<li><p><a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">nodejs</a></p>
</li>
<li><p><a href="https://github.com/tencentyun/cos-nodejs-sdk-v5" target="_blank" rel="noopener">腾讯云SDK</a></p>
<h3 id="环境变量配置"><a href="#环境变量配置" class="headerlink" title="环境变量配置"></a>环境变量配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">在windows环境变量中增加一项NODE_PATH</span><br><span class="line">最好同时指向2处，</span><br><span class="line">例如：</span><br><span class="line">C:\Users\ZNMLR\node_modules</span><br><span class="line">lC:\Users\ZNMLR\AppData\Roaming\npm\node_modules</span><br><span class="line">最少指向一处前者对应npm的本地安装，后者对应npm的全局安装</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h2 id="bat-js"><a href="#bat-js" class="headerlink" title="bat+js"></a>bat+js</h2><p>打开注册表编辑器</p>
<p><code>WIN+R</code>调用运行库，输入<code>regedit</code>，会打开注册表编辑器</p>
<p><img src="https://huanfan-1252958858.cos.ap-shanghai.myqcloud.com/2018/07/QQ%E5%9B%BE%E7%89%8720180730193456.png" alt=""></p>
<p>找到<code>计算机\HKEY_CLASSES_ROOT\*\shell</code></p>
<p><img src="https://huanfan-1252958858.cos.ap-shanghai.myqcloud.com/2018/07/QQ%E5%9B%BE%E7%89%8720180730193652.png" alt=""></p>
<ul>
<li>新建项<code>上传腾讯云</code>，在此项下再次新建项<code>command</code>，并修改右侧默认值 <code>cmd.exe /K &quot;C:\yunCos\1.bat &quot;%1&quot;&quot;</code></li>
</ul>
<p><img src="https://huanfan-1252958858.cos.ap-shanghai.myqcloud.com/2018/07/QQ%E5%9B%BE%E7%89%8720180730194044.png" alt=""></p>
<p>在C盘根目录建文件夹：yunCos，新建1.bat,内容如下</p>
<ul>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">node C:\yunCos\yunCos.js %1%</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>
</li>
<li><p>新建   yunCos.js文件，内容暂空</p>
</li>
</ul>
<h2 id="安装腾讯云SDK"><a href="#安装腾讯云SDK" class="headerlink" title="安装腾讯云SDK"></a>安装腾讯云SDK</h2><ul>
<li><p>安装运行环境 <a href="https://nodejs.org/en/" target="_blank" rel="noopener">node.js</a></p>
<p>这个没什么好说的，双击下一步就好了</p>
</li>
<li><p>安装sdk</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i cos-nodejs-sdk-v5 --save -g</span><br></pre></td></tr></table></figure>
<ul>
<li>再次安装SDK</li>
</ul>
<blockquote>
<p>不要问我为何有这一步，腾讯云文档这样写的  </p>
<p>先下载<a href="https://github.com/tencentyun/cos-nodejs-sdk-v5" target="_blank" rel="noopener">腾讯云SDK</a>，解压，进入到解压后的目录里执行命令</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\cos-nodejs-sdk-v5-master&gt;npm install -g</span><br></pre></td></tr></table></figure>
<h2 id="获取腾讯云上传鉴权码"><a href="#获取腾讯云上传鉴权码" class="headerlink" title="获取腾讯云上传鉴权码"></a>获取腾讯云上传鉴权码</h2><ul>
<li><p>请到<a href="https://cloud.tencent.com/product/cos" target="_blank" rel="noopener">腾讯云</a>注册账号并实名认证，</p>
</li>
<li><p>新建存储桶</p>
</li>
<li><p>获取APPID、SecretId、SecretKey、存储桶名称、所属地域 </p>
<p>以上步骤请自行阅读腾讯云文档，这里不做说明</p>
</li>
</ul>
<h2 id="编写上传脚本"><a href="#编写上传脚本" class="headerlink" title="编写上传脚本"></a>编写上传脚本</h2><h3 id="官方示例"><a href="#官方示例" class="headerlink" title="官方示例"></a>官方示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// 引入模块</span><br><span class="line">var COS = require(&apos;cos-nodejs-sdk-v5&apos;);</span><br><span class="line">// 创建实例</span><br><span class="line">var cos = new COS(&#123;</span><br><span class="line">    AppId: &apos;1250000000&apos;,   // 修改为自己的appid</span><br><span class="line">    SecretId: &apos;AKIDxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&apos;, // 修改为自己的SecretId</span><br><span class="line">    SecretKey: &apos;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&apos;, // 修改为自己的SecretKey</span><br><span class="line">&#125;);</span><br><span class="line">// 分片上传</span><br><span class="line">cos.sliceUploadFile(&#123;</span><br><span class="line">    Bucket: &apos;test&apos;, // 修改为自己的存储桶名称，由英文、数字和标点符号组成</span><br><span class="line">    Region: &apos;ap-guangzhou&apos;, // 修改为自己的所属地域，应该是纯英文的部分</span><br><span class="line">    Key: &apos;1.zip&apos;, // 这个是远端的地址</span><br><span class="line">    FilePath: &apos;./1.zip&apos; // 这个是本地地址</span><br><span class="line">&#125;, function (err, data) &#123;</span><br><span class="line">    console.log(err, data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="修改后"><a href="#修改后" class="headerlink" title="修改后"></a>修改后</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">var picsuffix=new Array(&quot;.jpg&quot;, &quot;.png&quot;, &quot;.bmp&quot;, &quot;.jpeg&quot;);</span><br><span class="line">function contains(arr, obj) &#123;</span><br><span class="line">  var i = arr.length;</span><br><span class="line">  while (i--) &#123;</span><br><span class="line">    if (arr[i] === obj) &#123;</span><br><span class="line">      return true;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var filepath=process.argv.splice(2).toString();</span><br><span class="line">var filename = filepath.substring(filepath.lastIndexOf(&quot;\\&quot;)+1); </span><br><span class="line">var today = new Date();</span><br><span class="line">var year = today.getFullYear();</span><br><span class="line">var month = today.getMonth() + 1;</span><br><span class="line">var urlkey=year+&quot;/&quot;+(month&lt;10?&apos;0&apos;+month:month)+&quot;/&quot;+filename;</span><br><span class="line">var suffix=filename.substring(filename.lastIndexOf(&quot;.&quot;), filename.length);</span><br><span class="line"></span><br><span class="line">// 引入模块</span><br><span class="line">var COS = require(&apos;cos-nodejs-sdk-v5&apos;);</span><br><span class="line">// 创建实例</span><br><span class="line">var cos = new COS(&#123;</span><br><span class="line">    AppId: &apos;*&apos;, // 修改为自己的appid</span><br><span class="line">    SecretId: &apos;*&apos;,// 修改为自己的SecretId</span><br><span class="line">    SecretKey: &apos;*&apos;,// 修改为自己的SecretKey</span><br><span class="line">&#125;);</span><br><span class="line">// 分片上传</span><br><span class="line">cos.sliceUploadFile(&#123;</span><br><span class="line">    Bucket: &apos;*&apos;,// 修改为自己的存储桶名称，由英文、数字和标点符号组成</span><br><span class="line">    Region: &apos;ap-guangzhou&apos;,// 修改为自己的所属地域，应该是纯英文的部分</span><br><span class="line">    Key: urlkey,</span><br><span class="line">    FilePath: filepath</span><br><span class="line">&#125;, function (err, data) &#123;</span><br><span class="line">	if(err)&#123;</span><br><span class="line">		console.log(err);</span><br><span class="line">	&#125;</span><br><span class="line">	else&#123;</span><br><span class="line">		console.log(data);</span><br><span class="line">		const util = require(&apos;util&apos;);</span><br><span class="line">		var url=&apos;&apos;;</span><br><span class="line">		if (contains(picsuffix, suffix)) &#123;</span><br><span class="line">			url=&apos;![](https://&apos;+data.Location+&apos;)&apos;;//这里返回的url是md格式，需要可自行更改</span><br><span class="line">		&#125;</span><br><span class="line">		else &#123;</span><br><span class="line">			url=&apos;[](https://&apos;+data.Location+&apos;)&apos;;//这里返回的url是md格式，需要可自行更改</span><br><span class="line">		&#125;</span><br><span class="line">		require(&apos;child_process&apos;).spawn(&apos;clip&apos;).stdin.end(url);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="关联bat与上传脚本"><a href="#关联bat与上传脚本" class="headerlink" title="关联bat与上传脚本"></a>关联bat与上传脚本</h2><blockquote>
<p>打开刚才建的yunCos.js，将上面内容复制进去，并修改相关内容，保存<br>在任意文件上点击右键，选择  上传腾讯云   会有脚本框一闪而过，找个文本框粘贴下，就得到你想要的URL</p>
</blockquote>
        </div>
        <br><br>

<div title="未经允许不得转载" class="post-copyright">未经允许不得转载： 幻凡ss » <span style="color: #ce8134">腾讯云COS图床制作</span></div>



 
<div class="share">
<span style="vertical-align: text-bottom;font-size:14px">分享到：</span>
<a title="分享到微博" href="javascript:" onclick="window.open('http://service.weibo.com/share/share.php?url=https://hfanss.com/2018/腾讯云COS-本地图片上传.html&sharesource=weibo&title=【腾讯云COS图床制作 - 幻凡ss】 利用腾讯云COS实现本地图片上传腾讯云，并将URL返回在剪切板中...&pic=https://blog-1252958858.file.myqcloud.com/2018/12/upload_ee8ca2_167d9ee016e__8000_00000019.jpg&appkey=2706825840','','height=400,width=711,left=100,right=100,scrollbars=yes,status=yes')">

<span class="iconfont icon-weibo"></span>

<a title="分享到QQ空间" href="javascript:" onclick="window.open('https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://hfanss.com/2018/腾讯云COS-本地图片上传.html&sharesource=qzone&title=【腾讯云COS图床制作 - 幻凡ss】&pics=https://blog-1252958858.file.myqcloud.com/2018/12/upload_ee8ca2_167d9ee016e__8000_00000019.jpg&summary=利用腾讯云COS实现本地图片上传腾讯云，并将URL返回在剪切板中...','','height=598,width=711,scrollbars=yes,status=yes')">

<span class="iconfont icon-qqkongjian"></span>

<a title="分享到QQ好友" href="javascript:" onclick="window.open('http://connect.qq.com/widget/shareqq/index.html?url=https://hfanss.com/2018/腾讯云COS-本地图片上传.html&title=【腾讯云COS图床制作 - 幻凡ss】&pics=https://blog-1252958858.file.myqcloud.com/2018/12/upload_ee8ca2_167d9ee016e__8000_00000019.jpg&summary=幻凡ss&desc=','','height=598,width=711,scrollbars=yes,status=yes')">

<span class="iconfont icon-QQ"></span>

</a></a></a></div>



       
            <div class="article-tags tags">
                
                   <a href="/tags/腾讯云COS图床/"><i class="fa fa-tag fa-fw" aria-hidden="true"></i>&nbsp;腾讯云COS图床</a>
                
            </div>
        

        
            <div class="prev-next">
                
                    <section class="prev">
                        <span class="art-item-left">
                            <h6><i class="fa fa-chevron-left" aria-hidden="true"></i>&nbsp;上一篇</h6>
                            <h4>
                                <a href="/2018/Java利用构造函数对实体类的属性进行初始化.html" rel="prev" title="JDBC链接数据库">
                                  
                                      JDBC链接数据库
                                  
                                </a>
                            </h4>
                    </span></section>
                    
                    <div class="fenge">
                    </div>
                
                    <section class="next">
                        <span class="art-item-right" aria-hidden="true">
                            <h6>下一篇&nbsp;<i class="fa fa-chevron-right" aria-hidden="true"></i></h6>
                            <h4>
                                <a href="/2018/500小时学习计划.html" rel="next" title="500小时学习计划">
                                    
                                        500小时学习计划
                                    
                                </a>
                            </h4>
                        </span></section></div>
                    </section>
                        
            
    

</article>

<br>

<!-- 显示推荐文章和评论 -->

    <article class="post white-box comments">
        <section class="article typo">

            
                <div class="recommended_posts">
        <h4><i class="fa fa-bookmark fa-fw" aria-hidden="true"></i>&nbsp;文章推荐</h4>
        <ul>
            
                <li><a href="https://hfanss.com/2018/Java代码的优化.html">Java代码的优化</a></li>
            
                <li><a href="https://hfanss.com/2018/Java利用构造函数对实体类的属性进行初始化.html">JDBC链接数据库</a></li>
            
                <li><a href="https://hfanss.com/2018/500小时学习计划.html">500小时学习计划</a></li>
            
                <li><a href="https://hfanss.com/2018/码云+hexo搭建个性博客.html">500小时学习计划</a></li>
            
                <li><a href="https://hfanss.com/2018/hexo博客常用插件及教程.html">hexo博客常用插件及教程</a></li>
            
        </ul>
    </div>
            

             
            


            
            
            
            
                <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
                <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
                <div id="vcomments"></div>
                <script>
                  new Valine({
                    el: '#vcomments',
                    appId: "5GMAO3V5MqR9DTfMnd73m8zT-gzGzoHsz",
                    appKey: "f6Ve1tpYqYSBefe5xp0OCKxR"
                  })
                </script>
            
            
        
    

        

        </section>
    </article>


<script>
    window.subData = {
        title: '腾讯云COS图床制作',
        tools: true
    }
</script>
        </div>
        <aside class="l_side">
            <section class="m_widget author">
        
            <div class="header">
                <img class="avatar" style="border-radius: 95px" src="/img/author.jpg">
            </div>
            
        
        <div class="content">
            
               <center><h1>幻凡ss</h1></center>
            
            
                <div>
                    <center><span>IT小青年</span></center>
                </div>
            
        </div>

            <div class="social-wrapper">

             <a style="background-color: #27ccc0" title="邮箱" href="mailto:hfans@foxmail.com" class="social-icon flat-box" target="_blank" rel="external">
                <i class="fas fa-envelope" aria-hidden="true"></i>
            </a>

             <a style="background-color: #12b7f5" title="QQ(2158798)" href="http://wpa.qq.com/msgrd?V=3&uin=2158798&Site=QQ&Menu=yes" class="social-icon flat-box" target="_blank" rel="external">
                <i class="fab fa-qq" aria-hidden="true"></i>
            </a>

             <a style="background-color: #f45a8d" title="github" href="https://github.com/hfanss/" class="social-icon flat-box" target="_blank" rel="external">
                <i class="fab fa-github" aria-hidden="true"></i>
            </a>

            <a style="background-color: #EE2C2C" title="CSDN" href="https://me.csdn.net/q2158798" class="social-icon flat-box" target="_blank" rel="external">
                <i class="pull_icon pull_icon8" aria-hidden="true">C</i>
            </a>

             <a style="background-color: #8c9496" title="RSS订阅" href="/atom.xml" class="social-icon flat-box" target="_blank" rel="external">
                <i class="fas fa-rss" aria-hidden="true"></i>
            </a>

            </div>

    </section>
    

    
        <section class="m_widget toc-wrapper">
        <header class="header xuxian">
            <div style="font-size: 18px">目录</div>
            <div class="wrapper"><a style="margin-right: 30px" class="s-toc rightBtn" title="固定到顶部" rel="external nofollow noopener noreferrer" href="javascript:void(0)"><i class="fas fa-thumbtack fa-fw"></i></a></div>
        </header>
        <div class="content">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#准备工作"><span class="toc-text">准备工作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#COS"><span class="toc-text">COS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#本地环境"><span class="toc-text">本地环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#环境变量配置"><span class="toc-text">环境变量配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用"><span class="toc-text">使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bat-js"><span class="toc-text">bat+js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装腾讯云SDK"><span class="toc-text">安装腾讯云SDK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#获取腾讯云上传鉴权码"><span class="toc-text">获取腾讯云上传鉴权码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#编写上传脚本"><span class="toc-text">编写上传脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#官方示例"><span class="toc-text">官方示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改后"><span class="toc-text">修改后</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关联bat与上传脚本"><span class="toc-text">关联bat与上传脚本</span></a></li></ol>
        </div>
    </section>
    

    

    
        <section class="m_widget categories">
    <header class="header xuxian">
        <div style="font-size: 18px">文章分类</div>
    </header>
    <div class="content">
        
            <ul class="entry">
                
                    <li><a class="flat-box" href="/categories/Java/">
                        <div class="name">
                            <i class="fas fa-bookmark" aria-hidden="true"></i>
                            &nbsp;&nbsp;Java
                        </div>
                        <div class="badge">3</div></a></li>
                
                    <li><a class="flat-box" href="/categories/Java代码优化/">
                        <div class="name">
                            <i class="fas fa-bookmark" aria-hidden="true"></i>
                            &nbsp;&nbsp;Java代码优化
                        </div>
                        <div class="badge">1</div></a></li>
                
                    <li><a class="flat-box" href="/categories/Java打字游戏/">
                        <div class="name">
                            <i class="fas fa-bookmark" aria-hidden="true"></i>
                            &nbsp;&nbsp;Java打字游戏
                        </div>
                        <div class="badge">1</div></a></li>
                
                    <li><a class="flat-box" href="/categories/Tomcat/">
                        <div class="name">
                            <i class="fas fa-bookmark" aria-hidden="true"></i>
                            &nbsp;&nbsp;Tomcat
                        </div>
                        <div class="badge">1</div></a></li>
                
                    <li><a class="flat-box" href="/categories/hexo/">
                        <div class="name">
                            <i class="fas fa-bookmark" aria-hidden="true"></i>
                            &nbsp;&nbsp;hexo
                        </div>
                        <div class="badge">4</div></a></li>
                
                    <li><a class="flat-box" href="/categories/个人/">
                        <div class="name">
                            <i class="fas fa-bookmark" aria-hidden="true"></i>
                            &nbsp;&nbsp;个人
                        </div>
                        <div class="badge">1</div></a></li>
                
                    <li><a class="flat-box" href="/categories/学习记录/">
                        <div class="name">
                            <i class="fas fa-bookmark" aria-hidden="true"></i>
                            &nbsp;&nbsp;学习记录
                        </div>
                        <div class="badge">1</div></a></li>
                
                    <li><a class="flat-box" href="/categories/点滴生活/">
                        <div class="name">
                            <i class="fas fa-bookmark" aria-hidden="true"></i>
                            &nbsp;&nbsp;点滴生活
                        </div>
                        <div class="badge">1</div></a></li>
                
            </ul>
        
    </div>
</section>
    

    
        <section class="m_widget tagcloud">
        <header class="header xuxian">
            <div style="font-size: 18px">标签集合</div>
        </header>
        
        <div class="content">
            
            <a href="/tags/Java/">Java&nbsp;(7)</a>
            
            <a href="/tags/Maupassant主题优化/">Maupassant主题优化&nbsp;(1)</a>
            
            <a href="/tags/gitee-hexo/">gitee+hexo&nbsp;(1)</a>
            
            <a href="/tags/hexo-maupassant/">hexo-maupassant&nbsp;(1)</a>
            
            <a href="/tags/hexo主题/">hexo主题&nbsp;(1)</a>
            
            <a href="/tags/hexo主题优化/">hexo主题优化&nbsp;(1)</a>
            
            <a href="/tags/hexo博客/">hexo博客&nbsp;(1)</a>
            
            <a href="/tags/hexo插件/">hexo插件&nbsp;(1)</a>
            
            <a href="/tags/hexo教程/">hexo教程&nbsp;(1)</a>
            
            <a href="/tags/学习计划/">学习计划&nbsp;(1)</a>
            
            <a href="/tags/屠城hexo主题优化版/">屠城hexo主题优化版&nbsp;(1)</a>
            
            <a href="/tags/年度计划/">年度计划&nbsp;(1)</a>
            
            <a href="/tags/点滴生活/">点滴生活&nbsp;(1)</a>
            
            <a href="/tags/码云-hexo/">码云+hexo&nbsp;(1)</a>
            
            <a href="/tags/腾讯云COS图床/">腾讯云COS图床&nbsp;(1)</a>
             
        </div>
    </section>
    

    
        <section class="m_widget music">
    <header class="header xuxian">
        <div style="font-size: 18px">音乐</div>
        <a class="rightBtn" title="打开博主的网易云音乐主页" target="_blank" rel="external nofollow noopener noreferrer" href="https://music.163.com/#/playlist?id=2270688529#填写歌单号"><i class="fas fa-external-link-square-alt fa-fw"></i></a>
    </header>
    <div class="content">
        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="100%" height="450" src="//music.163.com/outchain/player?type=0&id=2270688529#填写歌单号&auto=0&height=450"></iframe>
    </div>
</section>
    

    
        <section id="fixPara" class="m_widget links">
    <header class="header xuxian">
    <div style="font-size: 18px">热门推荐</div>
    </header>
    <div class="content">
        <ul class="entry" id="links">
            
                <li><a class="flat-box" target="_blank" rel="external nofollow noopener noreferrer" href="/2018/Maupassant主题、屠城主题优化版.html">
                    <div class="name">
                        
                            <img src="/img/hotrec-1.png">
                        
                        &nbsp;&nbsp;Maupassant主题优化、屠城hexo主题优化版
                    </div>
                </a></li>
            
                <li><a class="flat-box" target="_blank" rel="external nofollow noopener noreferrer" href="/2018/腾讯云COS图床制作.html">
                    <div class="name">
                        
                            <img src="/img/hotrec-2.png">
                        
                        &nbsp;&nbsp;腾讯云COS图床制作
                    </div>
                </a></li>
            
                <li><a class="flat-box" target="_blank" rel="external nofollow noopener noreferrer" href="/2018/码云+hexo搭建个性博客.html">
                    <div class="name">
                        
                            <img src="/img/hotrec-3.png">
                        
                        &nbsp;&nbsp;码云+hexo搭建个性博客
                    </div>
                </a></li>
            
                <li><a class="flat-box" target="_blank" rel="external nofollow noopener noreferrer" href="/2018/hexo博客常用插件及教程.html">
                    <div class="name">
                        
                            <img src="/img/hotrec-all.png">
                        
                        &nbsp;&nbsp;hexo博客常用插件及教程
                    </div>
                </a></li>
            
        </ul>
    <br>
</div></section>
        </aside>
    </div>
    </div>
    <footer id="footer" class="clearfix">
    <div class="footer-copyright">
      <span>
        &copy;<img class="nofancybox" src="https://blog-1252958858.file.myqcloud.com/2019/01/20171011091220_jhnecdkp.gif" style="border-radius: 5px" width="15px" height="15px">&nbsp;2019 幻凡ss  &nbsp;<a href="http://www.miibeian.gov.cn/" target="_Blank">豫ICP备18024944号-1
      </a></span>
    </div>


<div>
	<span id="runtime_span"></span>
</div>
<div>
	总访客数：<span id="busuanzi_value_site_uv"><i class="fa fa-spinner fa-spin"></i></span>&nbsp;&nbsp;|&nbsp;
	总访问量：<span id="busuanzi_value_site_pv"><i class="fa fa-spinner fa-spin"></i></span>
</div>
<script type="text/javascript">
function show_runtime(){
  window.setTimeout("show_runtime()",1000);
  X=new Date("4/1/2018 1:1:1");
  Y=new Date();T=(Y.getTime()-X.getTime());M=24*60*60*1000;
  a=T/M;A=Math.floor(a);
  b=(a-A)*24;B=Math.floor(b);
  c=(b-B)*60;C=Math.floor((b-B)*60);
  D=Math.floor((c-C)*60);
  runtime_span.innerHTML="本站已稳定运行：&nbsp;"+A+"天"+B+"小时"+C+"分"+D+"秒"}show_runtime();
</script>


    
        <div style="margin-top: 10px">
          <b>优秀博客友链:</b>&nbsp;
          
              
              <li style="display: inline">
                  <a href="https://www.wushile.top" target="_blank">&nbsp;小吴博客&nbsp;|</a>&nbsp;
              </li>

              
          
          <a href="/links/index.html" target="_blank">&nbsp;更多友链&nbsp;</a>&nbsp;
        </div>
    

    <div class="footer-hr"></div>

</footer>

<!-- 根据页面mathjax变量决定是否加载MathJax数学公式js -->
    <script src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdn.bootcss.com/sweetalert/2.1.2/sweetalert.min.js"></script>
<script src="//cdn.bootcss.com/Swiper/4.4.6/js/swiper.min.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script type="text/javascript">
    $(".zdya").each(function(){
       var len=$(this).text().length; 
       var kuan=window.screen.width;
       if(kuan > 720){
         var str="";
         str=$(this).text().substring(0,90)+"...";
         $(this).html(str);                   
       }else if (kuan < 720) {
         var str="";
         str=$(this).text().substring(0,80)+"...";
         $(this).html(str);                   
       }
    });

</script>


    <script>
        var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
        var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
        var ALGOLIA_API_KEY = "";
        var ALGOLIA_APP_ID = "";
        var ALGOLIA_INDEX_NAME = "";
        var AZURE_SERVICE_NAME = "";
        var AZURE_INDEX_NAME = "";
        var AZURE_QUERY_KEY = "";
        var BAIDU_API_ID = "";
        var SEARCH_SERVICE = "hexo" || "hexo";
        var ROOT = "/"||"/";
        if(!ROOT.endsWith('/'))ROOT += '/';
    </script>


<!-- <script src="/js/get.time.js"></script> -->
<script src="/js/back.top.js"></script>
<script src="/js/search.js"></script>
<script src="/js/app.js"></script>



    


        
  




<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


<script>        
  var mySwiper = new Swiper ('.swiper-container', {
    effect: 'slide',
    loop: true, 
    autoplay: true,
    pagination: {
      el: '.swiper-pagination',
    },
  
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    
  })  
</script>


<script>document.body.oncopy = function() { swal("复制成功", "如需转载文章请注意声明原文出处，谢谢合作！","success");};</script>


<script>
    document.addEventListener('visibilitychange', function () {
    if (document.visibilityState == 'hidden') {
        normal_title = document.title;
        document.title = '你有新的消息哦！';
    } else document.title = normal_title;
});
</script>

<div class="cover"></div>
</body>